

# Smart Feed Builder - Pop-up de Configuration Avanc√©e

## Vision

Transformer le formulaire de cr√©ation de flux d'une simple liste de champs en une **exp√©rience de briefing d'agent IA**. L'utilisateur ne remplit pas un formulaire technique, il **configure une mission de surveillance**.

```text
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ‚úï  Configurer un nouvel agent                                                 ‚îÇ
‚îÇ     D√©finissez les param√®tres de surveillance pour votre flux.                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                                ‚îÇ
‚îÇ  ‚ö°  [ Nom du flux__________________________________ ]                         ‚îÇ
‚îÇ      Ex: Concurrence Fintech, E-R√©putation...                                  ‚îÇ
‚îÇ                                                                                ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  üîç Requ√™te de surveillance                    [‚ú® G√©n√©rer avec l'IA]  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ (ANSUT OR "Service Universel") AND 5G -Corruption               ‚îÇ  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                                                                        ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  Volume estim√©: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë Mod√©r√© (~15 articles/sem)                ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                                                ‚îÇ
‚îÇ  üìä Quadrants Radar                                                            ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                  ‚îÇ
‚îÇ  ‚îÇ üíª Tech    ‚îÇ ‚îÇ üìà Market  ‚îÇ ‚îÇ ‚öñÔ∏è R√©gul.  ‚îÇ ‚îÇ ‚≠ê R√©puta. ‚îÇ                  ‚îÇ
‚îÇ  ‚îÇ    ‚úì       ‚îÇ ‚îÇ            ‚îÇ ‚îÇ     ‚úì      ‚îÇ ‚îÇ            ‚îÇ                  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îÇ
‚îÇ                                                                                ‚îÇ
‚îÇ  üéØ Seuil d'importance                                                         ‚îÇ
‚îÇ  ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  ‚â• 50%                  ‚îÇ
‚îÇ                                                                                ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  üîî Notifications en temps r√©el                              [‚îÅ‚îÅ‚îÅ‚óè]   ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     Alerte d√®s qu'un article critique est d√©tect√©                     ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                                                                        ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     ‚óã Instantan√©  ‚óè Quotidien  ‚óã Hebdomadaire                         ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                                                                        ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  üìß Alertes par email                                        [‚óè‚îÅ‚îÅ‚îÅ]   ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                                                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                 [ Annuler ]  [‚ö° Lancer ]      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## Fichiers √† modifier/cr√©er

| Fichier | Action | Description |
|---------|--------|-------------|
| `src/components/flux/FluxFormDialog.tsx` | Remplacer | Nouveau design "Smart Feed Builder" |
| `supabase/functions/generer-requete-flux/index.ts` | Cr√©er | Edge function pour g√©n√©rer les mots-cl√©s via IA |

---

## Fonctionnalit√©s cl√©s

### 1. G√©n√©ration IA des mots-cl√©s ("Killer Feature")

L'utilisateur d√©crit son besoin en langage naturel, l'IA g√©n√®re une requ√™te bool√©enne structur√©e.

**Flux utilisateur :**
1. L'utilisateur saisit un nom descriptif (ex: "Concurrence Mobile Money")
2. Clique sur "G√©n√©rer avec l'IA"
3. L'IA analyse le contexte et g√©n√®re :
   - Une liste de mots-cl√©s pertinents
   - Les quadrants recommand√©s
   - Un seuil d'importance sugg√©r√©

**Edge Function `generer-requete-flux` :**
```typescript
// Prompt syst√®me pour l'IA
const SYSTEM_PROMPT = `Tu es un expert en veille strat√©gique t√©l√©com pour l'ANSUT (C√¥te d'Ivoire).
√Ä partir du nom/description d'un flux, g√©n√®re une configuration de surveillance optimale.

Retourne UNIQUEMENT un JSON valide avec cette structure :
{
  "mots_cles": ["mot1", "mot2", ...],
  "quadrants": ["tech", "market", "regulation", "reputation"],
  "importance_min": 50,
  "description": "Description courte du flux"
}

Contexte : op√©rateurs Orange CI, MTN, Moov ; r√©gulateur ARTCI ; enjeux 5G, fibre, satellites.`;
```

### 2. Sections du formulaire restructur√©es

| Section | Contenu | Style |
|---------|---------|-------|
| **Identit√©** | Nom du flux avec ic√¥ne | Input moderne avec ic√¥ne zap |
| **Ciblage IA** | Zone de requ√™te + bouton g√©n√©ration | Bloc sur√©lev√© bg-slate-50, style terminal |
| **Quadrants** | Grille 4 boutons visuels | Cards cliquables avec ic√¥nes |
| **Importance** | Slider avec valeur affich√©e | Slider + badge pourcentage |
| **Alertes** | Section group√©e notifications | Cards avec switches int√©gr√©s |

### 3. Volume estim√© (feedback visuel)

Barre de progression indicative bas√©e sur les crit√®res :
- **Faible** (vert clair) : Requ√™te tr√®s sp√©cifique
- **Mod√©r√©** (vert) : √âquilibre optimal
- **√âlev√©** (orange) : Risque de bruit

```tsx
const estimateVolume = (keywords: string[], quadrants: string[], importance: number) => {
  // Logique d'estimation bas√©e sur les crit√®res
  const score = keywords.length * 10 + (4 - quadrants.length) * 15 + (100 - importance);
  if (score < 30) return { level: 1, label: 'Faible', color: 'bg-yellow-500' };
  if (score < 70) return { level: 2, label: 'Mod√©r√©', color: 'bg-green-500' };
  return { level: 3, label: '√âlev√©', color: 'bg-orange-500' };
};
```

### 4. Quadrants visuels avec ic√¥nes

```tsx
const quadrantOptions = [
  { id: 'tech', label: 'Technologie', icon: Cpu, color: 'bg-blue-500', hoverColor: 'hover:border-blue-500' },
  { id: 'market', label: 'March√©', icon: TrendingUp, color: 'bg-green-500', hoverColor: 'hover:border-green-500' },
  { id: 'regulation', label: 'R√©gulation', icon: Scale, color: 'bg-purple-500', hoverColor: 'hover:border-purple-500' },
  { id: 'reputation', label: 'R√©putation', icon: Star, color: 'bg-orange-500', hoverColor: 'hover:border-orange-500' },
];
```

---

## D√©tail de l'impl√©mentation

### Edge Function `generer-requete-flux`

```typescript
serve(async (req) => {
  const { nom, description } = await req.json();
  
  const response = await fetch('https://ai.gateway.lovable.dev/v1/chat/completions', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${Deno.env.get('LOVABLE_API_KEY')}`,
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      model: 'google/gemini-2.5-flash',
      messages: [
        { role: 'system', content: SYSTEM_PROMPT },
        { role: 'user', content: `Nom du flux: ${nom}\nDescription: ${description || 'Non fournie'}` }
      ],
      response_format: { type: 'json_object' }
    }),
  });
  
  // Parse et retourne la configuration g√©n√©r√©e
});
```

### Composant FluxFormDialog refactor√©

**Structure principale :**
```tsx
<Dialog open={open} onOpenChange={onOpenChange}>
  <DialogContent className="max-w-2xl max-h-[90vh] overflow-hidden flex flex-col">
    
    {/* Header distinctif */}
    <DialogHeader className="border-b pb-4">
      <DialogTitle className="text-xl flex items-center gap-2">
        <Zap className="h-5 w-5 text-primary" />
        {flux ? 'Modifier l\'agent' : 'Configurer un nouvel agent'}
      </DialogTitle>
      <DialogDescription>
        D√©finissez les param√®tres de surveillance pour votre flux.
      </DialogDescription>
    </DialogHeader>
    
    {/* Corps scrollable */}
    <div className="flex-1 overflow-y-auto p-6 space-y-6">
      
      {/* Section 1: Nom */}
      <section className="space-y-2">
        <Label className="font-semibold">Nom du flux</Label>
        <div className="flex gap-3">
          <div className="h-12 w-12 rounded-xl bg-primary/10 text-primary flex items-center justify-center shrink-0">
            <Zap className="h-6 w-6" />
          </div>
          <Input 
            placeholder="Ex: Concurrence Fintech, E-R√©putation..." 
            className="h-12 text-base"
            autoFocus
          />
        </div>
      </section>
      
      {/* Section 2: Ciblage IA */}
      <section className="bg-muted/50 rounded-xl p-5 border space-y-4">
        <div className="flex items-center justify-between">
          <Label className="font-semibold flex items-center gap-2">
            <Search className="h-4 w-4" />
            Requ√™te de surveillance
          </Label>
          <Button 
            variant="outline" 
            size="sm" 
            onClick={handleAiGenerate}
            disabled={isGenerating}
            className="gap-2 text-purple-600 border-purple-200 hover:bg-purple-50"
          >
            {isGenerating ? (
              <Loader2 className="h-4 w-4 animate-spin" />
            ) : (
              <Sparkles className="h-4 w-4" />
            )}
            G√©n√©rer avec l'IA
          </Button>
        </div>
        
        {/* Zone de mots-cl√©s avec style terminal */}
        <Textarea 
          className="font-mono text-sm bg-background"
          placeholder="Saisissez vos mots-cl√©s ou laissez l'IA le faire..."
        />
        
        {/* Indicateur de volume */}
        <VolumeIndicator keywords={formData.mots_cles} quadrants={formData.quadrants} />
      </section>
      
      {/* Section 3: Quadrants visuels */}
      <section className="space-y-3">
        <Label className="font-semibold">Quadrants Radar</Label>
        <div className="grid grid-cols-2 sm:grid-cols-4 gap-3">
          {quadrantOptions.map(q => (
            <QuadrantButton 
              key={q.id} 
              {...q} 
              active={formData.quadrants.includes(q.id)}
              onClick={() => handleToggleQuadrant(q.id)}
            />
          ))}
        </div>
      </section>
      
      {/* Section 4: Importance */}
      <section className="space-y-3">
        <div className="flex items-center justify-between">
          <Label className="font-semibold">Seuil d'importance minimum</Label>
          <Badge variant="secondary">‚â• {formData.importance_min}%</Badge>
        </div>
        <Slider value={[formData.importance_min]} onValueChange={...} max={100} />
      </section>
      
      {/* Section 5: Alertes (group√©es) */}
      <section className="rounded-xl border p-4 space-y-4">
        <AlertOption 
          icon={Bell}
          title="Notifications en temps r√©el"
          description="Alerte dans l'app d√®s qu'un article critique est d√©tect√©"
          checked={formData.alerte_push}
          onChange={...}
        />
        
        {formData.alerte_push && (
          <RadioGroup value={formData.frequence_digest} className="flex gap-4 pl-10">
            <RadioOption value="instantane" label="Instantan√©" />
            <RadioOption value="quotidien" label="Quotidien" />
            <RadioOption value="hebdo" label="Hebdomadaire" />
          </RadioGroup>
        )}
        
        <Separator />
        
        <AlertOption 
          icon={Mail}
          title="Alertes par email"
          description="Recevoir un email pour chaque article critique"
          checked={formData.alerte_email}
          onChange={...}
        />
      </section>
      
    </div>
    
    {/* Footer avec CTA fort */}
    <DialogFooter className="border-t pt-4 bg-muted/30">
      <Button variant="ghost" onClick={() => onOpenChange(false)}>
        Annuler
      </Button>
      <Button onClick={handleSubmit} disabled={isLoading} className="gap-2">
        {isLoading ? <Loader2 className="h-4 w-4 animate-spin" /> : <Zap className="h-4 w-4" />}
        {flux ? 'Mettre √† jour' : 'Lancer la surveillance'}
      </Button>
    </DialogFooter>
    
  </DialogContent>
</Dialog>
```

---

## Composants helper

### QuadrantButton

```tsx
function QuadrantButton({ id, label, icon: Icon, color, active, onClick }) {
  return (
    <button
      onClick={onClick}
      className={cn(
        "flex flex-col items-center justify-center p-4 rounded-xl border-2 transition-all",
        active 
          ? `border-current ${color.replace('bg-', 'text-')} bg-current/10` 
          : "border-muted hover:border-muted-foreground/30"
      )}
    >
      <Icon className={cn("h-5 w-5 mb-2", active ? "" : "text-muted-foreground")} />
      <span className={cn("text-xs font-medium", active ? "" : "text-muted-foreground")}>
        {label}
      </span>
    </button>
  );
}
```

### VolumeIndicator

```tsx
function VolumeIndicator({ keywords, quadrants, importance }) {
  const { level, label, color } = estimateVolume(keywords, quadrants, importance);
  
  return (
    <div className="flex items-center gap-2 text-xs">
      <span className="text-muted-foreground font-medium">Volume estim√© :</span>
      <div className="flex gap-0.5">
        {[1, 2, 3].map(i => (
          <div 
            key={i} 
            className={cn(
              "w-6 h-1.5 rounded-full transition-colors",
              i <= level ? color : "bg-muted"
            )} 
          />
        ))}
      </div>
      <span className={cn("font-medium", color.replace('bg-', 'text-'))}>
        {label}
      </span>
    </div>
  );
}
```

### AlertOption

```tsx
function AlertOption({ icon: Icon, title, description, checked, onChange }) {
  return (
    <div className="flex items-center justify-between">
      <div className="flex items-center gap-3">
        <div className="p-2 rounded-lg bg-primary/10 text-primary">
          <Icon className="h-5 w-5" />
        </div>
        <div>
          <h4 className="font-medium text-sm">{title}</h4>
          <p className="text-xs text-muted-foreground">{description}</p>
        </div>
      </div>
      <Switch checked={checked} onCheckedChange={onChange} />
    </div>
  );
}
```

---

## R√©capitulatif des am√©liorations UX

| Avant | Apr√®s |
|-------|-------|
| Champs texte basiques | Sections visuellement distinctes |
| Mots-cl√©s manuels uniquement | Bouton "G√©n√©rer avec l'IA" |
| Checkboxes quadrants | Boutons visuels avec ic√¥nes |
| Pas de feedback | Indicateur de volume estim√© |
| Notifications s√©par√©es | Section alertes group√©e avec switches |
| Bouton "Cr√©er le flux" | "Lancer la surveillance" (vocabulaire agent) |

